---
title: "Bknd v0.20.0 Release Notes"
description: "Release notes for Bknd version 0.20.0"
---

Released: January 9, 2026

## Overview

Bknd v0.20.0 brings major improvements including license change, PostgreSQL package merge, new authentication methods, browser support, and enhanced developer experience. This release focuses on making Bknd more flexible, enterprise-friendly, and easier to integrate across different platforms.

## What's New

### License Change to Apache 2.0

Bknd is now licensed under Apache 2.0 license, making it even more permissive and enterprise-friendly. This change allows for broader adoption in corporate environments with clearer terms for commercial use, modification, and distribution.

### PostgreSQL Support Now Included

The separate `@bknd/postgres` package has been merged into the main `bknd` package. PostgreSQL connections are now available directly from the main package.

```typescript
import { pg, postgresJs } from "bknd";
import { Pool } from "pg";
import postgres from 'postgres'

// using pg library (node-postgres)
const connection = pg({
  pool: new Pool({
    connectionString: "postgresql://user:password@localhost:5432/database",
  }),
});

// using postgres.js
const connection = postgresJs({
  postgres: postgres("postgresql://user:password@localhost:5432/database"),
});
```

**Migration Required:** If you're upgrading from a previous version, see [PostgreSQL Package Migration Guide](/migration-guides/postgres-package-merge) for detailed migration steps.

### MCP in Admin Navigation

The MCP (Model Context Protocol) tool is now accessible directly from the main navigation when enabled. The UI has been improved to be route-aware, making it easier to interact with AI tools directly from the admin interface.

- MCP menu item appears in Admin UI navigation when enabled
- Route-aware configuration ensures proper access regardless of admin basepath
- Simplifies AI assistant and IDE integration workflows

See [MCP documentation](/reference/schema.md#admin-configuration) for configuration details.

### Improved Hybrid Mode

The hybrid mode has been enhanced with better type inference and improved configuration handling:

- **Reader returns objects:** The `reader` function can now return objects directly (not just strings), simplifying config loading
- **Automatic schema sync:** Development mode automatically syncs schema with `sync_required` flag
- **Better config defaults:** Improved handling of missing config files with automatic defaults

### Repository Auto-Join for Related Entities

When querying with `where` clauses that reference related entities, bknd now automatically adds necessary joins. This means you can filter by related entity fields without explicitly specifying joins:

```typescript
// automatically joins "author" when filtering by author.name
const posts = await api.data.readMany("posts", {
  where: { "author.name": "John" },
});
```

**Performance Note:** Auto-joins load all columns from related tables by default. For optimal performance, use explicit `join` parameter with `select` to load only needed columns. See [Query System documentation](/reference/query-system) for more details.

### Email OTP Plugin

A new authentication plugin for passwordless login using one-time passwords sent via email. The plugin supports both login and registration flows, with configurable TTL, custom email templates, and automatic code invalidation.

```typescript
import { emailOTP } from "bknd/plugins";
import { resendEmail } from "bknd";

export default {
   options: {
      plugins: [
         emailOTP({
            generateEmail: (otp) => ({
               subject: "OTP Code",
               body: `Your OTP code is: ${otp.code}`,
            }),
         })
      ],
   },
} satisfies BkndConfig;
```

### Plunk Email Driver

Added support for [Plunk](https://useplunk.com/) as an email driver, joining Resend as a supported transactional email service.

```typescript
import { plunkEmail } from "bknd";

export default {
   options: {
      drivers: {
         email: plunkEmail({
            apiKey: "<api-key>",
            from: "hello@example.com",
         }),
      },
  }
}
```

### SvelteKit Adapter

Bknd now has first-class support for SvelteKit applications. The new adapter follows the same pattern as existing Astro and Next.js adapters with load function integration.

See [SvelteKit integration guide](/how-to-guides/setup/integrations/sveltekit) for complete setup instructions.

### MediaAPI `uploadToEntity` Now Supports `overwrite`

The `uploadToEntity` method now supports an `overwrite` parameter to control behavior when a file already exists:

```typescript
const { data } = await api.media.uploadToEntity(
  "pets",
  pet.id,
  "pet_photo",
  file,
  { overwrite: true }  // Overwrites existing file
);
```

### Run Bknd in Your Browser with SQLocal

You can now run bknd entirely in your browser without any server required. Using [SQLocal](https://sqlocal.dallashoffman.com/), bknd now supports in-browser SQLite databases using OPFS (Origin Private File System), with data persisting locally in your browser.

```typescript
import { BkndBrowserApp } from "bknd/adapter/browser";
import { Route } from "wouter";

export function App() {
  return (
    <BkndBrowserApp
       config={{
          /* ... your bknd config */
          adminOptions: { basepath: "/admin" }
       }}
       onBuilt={async (app) => {}}
    >
      {/* your routes */}
      <Route path="/" component={() => <div>hello</div>} />
    </BkndBrowserApp>
  );
}
```

This is perfect for:
- Offline-first applications
- Local development without backend
- Demo and prototyping

See [Browser/SQLocal integration guide](/how-to-guides/setup/integrations/browser-sqlocal) for complete documentation.

## Other Improvements

### Authentication

- Added `default_role_register` configuration option to set default role for newly registered users
- Password strategy now supports configurable `minLength` (default: 8, minimum: 1)
- Added schema permission (`system.schema.read`) to protect schema operations
- Added `redirect` query parameter to logout endpoint for redirect override

### Data Module

- New `readOneBy(where)` method as alternative to `findOne` with more query options
- Media upload improvements with better MIME type handling
- Enhanced error handling for media operations

### Admin UI

- Improved static asset serving for various adapters
- Better media previews (PDF, text, audio files)
- Proper cleanup of attached files when entity is deleted

### Developer Experience

- Added TypeScript definitions endpoint for data entities
- Improved Cloudflare Workers support with better proxy handling
- Enhanced CLI commands with better error messages
- Improved Docker configuration

## Migration Guide

### Breaking Changes

1. **PostgreSQL Package Merge**: The `@bknd/postgres` package no longer exists. Import `pg` and `postgresJs` from the main `bknd` package instead.

2. **Schema Permission**: Schema-related endpoints (`/api/system/schema`, `/api/data/schema`, `/api/system/config`) now require the `system.schema.read` permission.

### Migration Steps

For detailed migration instructions, see:
- [PostgreSQL Package Migration Guide](/migration-guides/postgres-package-merge)

## Changelog

- upgrade deps by [@dswbx](https://github.com/dswbx) in [#290](https://github.com/bknd-io/bknd/pull/290)
- upgrade biome and vscode settings by [@dswbx](https://github.com/dswbx) in [#293](https://github.com/bknd-io/bknd/pull/293)
- fix hybrid schema sync by [@dswbx](https://github.com/dswbx) in [#295](https://github.com/bknd-io/bknd/pull/295)
- Update Astro integration documentation by [@jonaspm](https://github.com/jonaspm) in [#296](https://github.com/bknd-io/bknd/pull/296)
- Update import path for getApi in astro.mdx by [@jonaspm](https://github.com/jonaspm) in [#297](https://github.com/bknd-io/bknd/pull/297)
- Email Driver: Add Plunk Support by [@cameronapak](https://github.com/cameronapak) in [#294](https://github.com/bknd-io/bknd/pull/294)
- Fix: cf proxy and modes by [@dswbx](https://github.com/dswbx) in [#302](https://github.com/bknd-io/bknd/pull/302)
- Add Cloudflare Vite templates for fullstack deployments by [@dswbx](https://github.com/dswbx) in [#303](https://github.com/bknd-io/bknd/pull/303)
- fix cli url opener and add minimal debug docker config by [@dswbx](https://github.com/dswbx) in [#301](https://github.com/bknd-io/bknd/pull/301)
- fix: recursive `with` omitted join clauses by [@dswbx](https://github.com/dswbx) in [#299](https://github.com/bknd-io/bknd/pull/299)
- OTP plugin by [@dswbx](https://github.com/dswbx) in [#292](https://github.com/bknd-io/bknd/pull/292)
- fix config reconciliation for specific field types, remove lodash by [@dswbx](https://github.com/dswbx) in [#311](https://github.com/bknd-io/bknd/pull/311)
- Fix UI client import by [@dswbx](https://github.com/dswbx) in [#307](https://github.com/bknd-io/bknd/pull/307)
- fix: putting schema related endpoints behind schema permission and added tests by [@dswbx](https://github.com/dswbx) in [#312](https://github.com/bknd-io/bknd/pull/312)
- feat: Add implicit joins in repository where clauses by [@dswbx](https://github.com/dswbx) in [#313](https://github.com/bknd-io/bknd/pull/313)
- docs: updated react-router and react sdk by [@dswbx](https://github.com/dswbx) in [#314](https://github.com/bknd-io/bknd/pull/314)
- feat: move postgres as part of main repo by [@dswbx](https://github.com/dswbx) in [#289](https://github.com/bknd-io/bknd/pull/289)
- feat: opfs and sqlocal by [@dswbx](https://github.com/dswbx) in [#308](https://github.com/bknd-io/bknd/pull/308)
- feat: add local auth support if api storage provided by [@dswbx](https://github.com/dswbx) in [#315](https://github.com/bknd-io/bknd/pull/315)
- docs: Add documentation for auth.logout method in SDK usage by [@jonaspm](https://github.com/jonaspm) in [#319](https://github.com/bknd-io/bknd/pull/319)
- feat: add `default_role_register` and password `minLength` config by [@dswbx](https://github.com/dswbx) in [#320](https://github.com/bknd-io/bknd/pull/320)
- feat(admin): add mcp as main navigation item when enabled, and make it route-aware by [@dswbx](https://github.com/dswbx) in [#321](https://github.com/bknd-io/bknd/pull/321)
- docs: Document data.readOneBy method with usage examples by [@jonaspm](https://github.com/jonaspm) in [#323](https://github.com/bknd-io/bknd/pull/323)
- change license to apache 2.0 by [@dswbx](https://github.com/dswbx) in [#331](https://github.com/bknd-io/bknd/pull/331)
- feat: add SvelteKit adapter by [@screenfluent](https://github.com/screenfluent) in [#324](https://github.com/bknd-io/bknd/pull/324)
- fix: Add overwrite option to uploadToEntity method by [@jonaspm](https://github.com/jonaspm) in [#330](https://github.com/bknd-io/bknd/pull/330)

## Contributors

- [@dswbx](https://github.com/dswbx)
- [@jonaspm](https://github.com/jonaspm)
- [@cameronapak](https://github.com/cameronapak)
- [@screenfluent](https://github.com/screenfluent)

## New Contributors

- [@jonaspm](https://github.com/jonaspm) made their first contribution in [#296](https://github.com/bknd-io/bknd/pull/296)
- [@screenfluent](https://github.com/screenfluent) made their first contribution in [#324](https://github.com/bknd-io/bknd/pull/324)

## Upgrading

To upgrade to v0.20.0:

```bash
npm install bknd@0.20.0
# or
yarn add bknd@0.20.0
# or
bun install bknd@0.20.0
```

After upgrading:
1. Review the [PostgreSQL Package Migration Guide](/migration-guides/postgres-package-merge) if you're using PostgreSQL
2. Update your PostgreSQL imports from `@bknd/postgres` to `bknd`
3. Ensure your schema permission configuration includes `system.schema.read` if needed for admin operations
4. Test your application thoroughly in development before deploying to production

## Links

- [Full Changelog](https://github.com/bknd-io/bknd/compare/v0.19.0...v0.20.0)
- [GitHub Release](https://github.com/bknd-io/bknd/releases/tag/v0.20.0)
- [Migration Guides](/migration-guides/postgres-package-merge)
- [Configuration Reference](/reference/configuration)
